<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="UTF-8">
        <title>Linuxシェルスクリプト</title>
        <meta name="description" content="Linuxシェルスクリプトの書き方">
        <meta name="viewport" content="width=device-width,initial-scale=1">

    <!-- CSS -->
        <link rel="stylesheet" href="https://unpkg.com/ress@3.0.0/dist/ress.min.css">
        <link rel="stylesheet" href="../css/style.css">
    <!-- JQuery -->
    <script src="https://code.jquery.com/jquery-3.2.1.js" integrity="sha256-DZAnKJ/6XZ9si04Hgrsxu/8s717jcIzLy3oi35EouyE=" crossorigin="anonymous"></script>
    <script src="../js/menu.js" type="text/javascript"></script>
    <script src="../js/footer.js" type="text/javascript"></script>
    </head>

<body>
    <div class="page-contents">
        <!-- Accordion Menu -->
        <script type="text/javascript">loadMenu('../');</script>
        <!-- MAIN CONTENTS -->
        <div class="main-contents">
            <!-- HEADER IMAGE -->
            <div id="linux-bg" class="big-bg">
                <div class="title-contents wrapper">
                    <h2 class="page-title">Linux</h2>
                </div>
            </div>

            <!-- CONTENTS -->
            <div class="main-text wrapper">
                <div class="hierarchie">
                    <a href="../index.html"><img class="home-icon" src="../images/logo_original.png" alt="home"></a>
                    <p> ＞ <a href="linux_command_top.html">Linixコマンド</a> ＞ シェルスクリプト</p>
                </div>
                <div>
                    <h2 class="content-title">シェルスクリプト</h2>
                    <p>
                        シェルスクリプトとは、Linuxコマンドをまとめて実行するためのファイルである。
                        繰り返しコマンドを実行する場合や、時間のかかる処理を自動で実行する場合に便利である。
                    </p>
                    <div id="list-bottom" class="table-of-contents">
                        <ol>
                            <li>シェルスクリプトの書き方</li>
                            <li>変数</li>
                            <li>繰り返し処理</li>
                            <li>シェルスクリプトの実行方法</li>
                        </ol>
                    </div>
                </div>

                <div class="content-block">
                    <h3>シェルスクリプトの書き方</h3>
                    <p>
                        シェルスクリプトは基本的に実行したいコマンドを並べて書いていけばよく、ファイルの拡張子は.shで作成する。
                        ただし、コマンドを書く前の最初の一行には<code>#!/bin/bash</code>と記述する。
                    </p>

<pre><code><p class="filename">test.sh</p>
#!/bin/bash
<span id="comment"># ここからコマンドを記述する</span>
echo Hello World
</code></pre>

                </div>

                <div class="content-block">
                    <h3>変数</h3>
                    <p>
                        シェルスクリプトでは変数を使用できる。
                        変数は等号「=」を用いて代入を行い、「$」をつけて展開する。
                        なお、ホームディレクトリへのパスは${HOME}とすることで取得できる。
                    </p>

<pre><code><p class="filename">test.sh</p>
#!/bin/bash
<span id="comment"># 変数textを使用する</span>
text="Hello World"
echo ${text}
</code></pre>

                </div>

                <div class="content-block">
                    <h3>繰り返し処理</h3>
                    <p>
                        シェルスクリプトでの繰り返し処理はfor文を使用して実行する。
                        for文の書き方は以下の例の通りである。
                    </p>

<pre><code><p class="filename">test.sh</p>
#!/bin/bash
<span id="comment"># for文で繰り返し処理をする</span>
for i in 0 1 2 3 4; do
    showNum=number:${i}
    echo ${showNum}
done
</code></pre>

                    <p>
                        書式は<code>for 変数 in 範囲; do コマンド done</code>である。
                        範囲の部分は様々な書き方があるが、連続する番号の場合はブレース展開を使用すると簡単に書ける。
                    </p>

<pre><code><p class="filename">test.sh</p>
#!/bin/bash
<span id="comment"># ブレース展開を使用した場合（0から4まで連番）</span>
for i in {0..4}; do
    showNum=number:${i}
    echo ${showNum}
done
</code></pre>
                    
                </div>

                <div class="content-block">
                    <h3>シェルスクリプトの実行方法</h3>
                    <p>
                        シェルスクリプトは実行権を付与した後、<code>bash シェルスクリプト名</code>で実行できる。
                    </p>
                    
<pre><code>chmod 755 test.sh
bash test.sh
</code></pre>

                    <p>
                        <code>bash</code>の部分は<code>sh</code>でも可。
                    </p>

                </div>
                
                <div class="hierarchie-bottom">
                    <a href="./linux_command3.html">PREVIOUS</a>
                    <a href="./linux_command_top.html">TOP</a>
                    <p>NEXT</p>
                </div>

            </div>
            <script type="text/javascript">loadFooter();</script>
        </div>
    </div>
</body>
</html>